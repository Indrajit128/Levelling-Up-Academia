:root {
  --primary-bg: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --secondary-bg: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  --accent-bg: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
  --card-bg: rgba(255,255,255,0.95);
  --text-primary: #333;
  --text-secondary: #666;
  --error: #ff6b6b;
  --success: #4ade80;
  --warning: #fbbf24;
  --info: #60a5fa;
  --shadow: rgba(0,0,0,0.1);
  --border-radius: 12px;
  --transition: all 0.3s ease;
}

body { margin: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--primary-bg); color: var(--text-primary); min-height: 100vh; }
h1 { font-size: 28px; font-weight: 700; color: #fff; text-shadow: 0 2px 4px rgba(0,0,0,0.3); }
.center { text-align:center; padding: 12px }
.error { color: var(--error); background: rgba(255,255,255,0.9); padding: 8px; border-radius: 6px; border-left: 4px solid var(--error); }

/* Layout */
.app-root { max-width: 1200px; margin: 20px auto; padding: 20px; background: var(--card-bg); border-radius: var(--border-radius); box-shadow: 0 8px 32px var(--shadow); backdrop-filter: blur(10px); }
.app-header { margin-bottom: 20px; text-align: center; padding: 20px; background: var(--accent-bg); border-radius: var(--border-radius); color: white; }
.subtitle { color: var(--text-secondary); margin-top: 8px; font-size: 16px; }
.grid { display: grid; grid-template-columns: 320px 1fr; gap: 20px }
.main-col { display: grid; grid-template-rows: auto auto; gap: 20px }

.card { background: #fff; padding: 20px; border-radius: var(--border-radius); box-shadow: 0 4px 20px rgba(0,0,0,0.08); transition: var(--transition); border: 1px solid rgba(255,255,255,0.2); }
.card:hover { transform: translateY(-2px); box-shadow: 0 8px 30px rgba(0,0,0,0.12); }

/* Scorecard */
.scorecard { display:flex; align-items:center; justify-content:space-between }
.score-main { display:flex; align-items:center }
.score-value { font-size: 40px; font-weight:700; margin-right:8px }
.score-label { color:#666 }
.score-breakdown { font-size:13px; color:#333 }

/* Publications */
.pub-list { display:flex; flex-direction:column; gap:10px }
.pub-item { padding:8px; border-left:3px solid #eee }
.pub-title { font-weight:600 }
.pub-meta { color:#666; font-size:13px }

/* Feedback */
.fb-list { list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:10px }
.fb-item { padding:8px; border-left:3px solid #f0f0ff }
.fb-meta { font-weight:600 }
.fb-rating { color:#333 }
.fb-comments { color:#444; font-style:italic }

/* Responsive */
@media (max-width: 800px){
	.grid { grid-template-columns: 1fr; }
	.left-col { order: 2 }
	.main-col { order: 1 }
	.score-value { font-size: 32px }
}

/* Controls */
.searchbar { display:flex; gap:8px; margin-bottom:8px }
.searchbar input[type="text"], .searchbar input[type="number"], .searchbar input { padding:8px; border-radius:6px; border:1px solid #ddd; flex:1 }
.controls-row { margin-bottom:12px }

.weight-controls .weights-grid { display:grid; grid-template-columns:1fr; gap:8px }
.weight-controls label { display:flex; flex-direction:column; gap:6px }
.weights-summary { margin-top:8px; display:flex; gap:8px; font-size:13px }

.trend-chart div { width:100%; }

.ai-suggestion { background: linear-gradient(180deg,#fcfcff,#ffffff); border: 1px solid #e6e8f0 }
.ai-chat textarea { min-height:80px }

.weight-controls input[type=range] { width:100% }
.weights-summary span { margin-left:8px; padding:2px 6px; border-radius:6px; font-weight:600 }
.delta-up { background: #e6ffef; color: #007a3d }
.delta-down { background: #fff4f2; color: #b00020 }
.weights-grid label { display:flex; flex-direction:column; gap:6px }
.weights-grid input[type=range] { transition: box-shadow 220ms ease }
.weights-grid input[type=range]:focus { outline: none }

/* range thumb glow (modern browsers) */
input[type=range]::-webkit-slider-thumb { transition: box-shadow 280ms ease; box-shadow: 0 0 0 rgba(0,0,0,0) }
.range-glow { box-shadow: 0 0 8px rgba(0,122,61,0.18) }

.ai-suggestion strong { display:block; margin-bottom:6px }
.ai-suggestion button { padding:6px 10px; border-radius:6px; cursor:pointer }
.ai-suggestion button:first-child { background:#fff; border:1px solid #ddd }
.ai-suggestion button:last-child { background:#007a3d; color:#fff; border:none }

.ai-chat button { background: #0b5cff; color:#fff; border:none; padding:8px 10px; border-radius:6px; cursor:pointer }
.ai-chat .card { padding:10px }

/* undo toast */
.undo-toast { position: fixed; right: 18px; bottom: 18px; background: #1f2937; color:#fff; padding:12px 16px; border-radius:8px; box-shadow: 0 6px 30px rgba(0,0,0,0.2); display:flex; gap:8px; align-items:center }
.undo-toast button { background:transparent; border:1px solid rgba(255,255,255,0.2); color:#fff; padding:6px 8px; border-radius:6px; cursor:pointer }

/* Modal */
.modal-backdrop { position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(10,12,18,0.4) }
.modal-card { background:#fff; padding:18px; border-radius:10px; width:520px; max-width:90%; box-shadow:0 10px 40px rgba(0,0,0,0.25) }
.modal-card h3 { margin:0 0 8px 0 }
.modal-card button { padding:8px 10px; border-radius:6px }
